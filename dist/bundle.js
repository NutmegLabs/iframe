!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Iframe=e():t.Iframe=e()}(self,(function(){return function(){"use strict";var t={424:function(t,e,n){var a=n(81),r=n.n(a),i=n(645),o=n.n(i)()(r());o.push([t.id,".editorjs-iframe {}\n\n.editorjs-iframe .cdx-loader {\n  min-height: 200px;\n}\n\n.editorjs-iframe .cdx-input {\n  margin-top: 10px;\n}\n\n.editorjs-iframe iframe {\n  max-width: 100%;\n  vertical-align: bottom;\n}\n\n.editorjs-iframe__caption[contentEditable=true][data-placeholder]:empty::before {\n  position: absolute;\n  content: attr(data-placeholder);\n  color: #707684;\n  font-weight: normal;\n  opacity: 0;\n }\n\n.editorjs-iframe__caption[contentEditable=true][data-placeholder]:empty::before {\n  opacity: 1;\n}\n\n.editorjs-iframe__caption[contentEditable=true][data-placeholder]:empty:focus::before {\n  opacity: 0;\n}\n\n.iframe-flex{\n  display: flex;\n}\n.iframe-justify-start {\n  justify-content: flex-start;\n}\n.iframe-justify-end {\n  justify-content: flex-end;\n}\n.iframe-justify-center {\n  justify-content: center;\n}",""]),e.Z=o},645:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",a=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),a&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),a&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,a,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(a)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(o[c]=!0)}for(var l=0;l<t.length;l++){var d=[].concat(t[l]);a&&o[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),e.push(d))}},e}},81:function(t){t.exports=function(t){return t[1]}},379:function(t){var e=[];function n(t){for(var n=-1,a=0;a<e.length;a++)if(e[a].identifier===t){n=a;break}return n}function a(t,a){for(var i={},o=[],s=0;s<t.length;s++){var c=t[s],l=a.base?c[0]+a.base:c[0],d=i[l]||0,u="".concat(l," ").concat(d);i[l]=d+1;var f=n(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)e[f].references++,e[f].updater(p);else{var m=r(p,a);a.byIndex=s,e.splice(s,0,{identifier:u,updater:m,references:1})}o.push(u)}return o}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var i=a(t=t||[],r=r||{});return function(t){t=t||[];for(var o=0;o<i.length;o++){var s=n(i[o]);e[s].references--}for(var c=a(t,r),l=0;l<i.length;l++){var d=n(i[l]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=c}}},569:function(t){var e={};t.exports=function(t,n){var a=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},216:function(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:function(t,e,n){t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:function(t){t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,r&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(a,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:function(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var i=e[a]={id:a,exports:{}};return t[a](i,i.exports,n),i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var a={};return function(){n.d(a,{default:function(){return b}});var t=n(379),e=n.n(t),r=n(795),i=n.n(r),o=n(569),s=n.n(o),c=n(565),l=n.n(c),d=n(216),u=n.n(d),f=n(589),p=n.n(f),m=n(424),h={};function v(t){return function(t){if(Array.isArray(t))return y(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function g(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}h.styleTagTransform=p(),h.setAttributes=l(),h.insert=s().bind(null,"head"),h.domAPI=i(),h.insertStyleElement=u(),e()(m.Z,h),m.Z&&m.Z.locals&&m.Z.locals;var b=function(){function t(e){var n=e.data,a=e.api,r=e.readOnly;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=a,this.readOnly=r,this.blockIndex=this.api.blocks.getCurrentBlockIndex()+1,this.CSS={baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive,wrapper:"editorjs-iframe",holder:["editorjs-iframe__frame","iframe-flex"]},this.nodes={wrapper:null,holder:null,image:null,iframe:null},this.data={frame:void 0!==n.frame?n.frame:"",alignment:!!n.alignment&&n.alignment},this.settings=[{name:"LeftAligned",icon:'<svg  width="15" height="15" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M12.83 344h262.34A12.82 12.82 0 0 0 288 331.17v-22.34A12.82 12.82 0 0 0 275.17 296H12.83A12.82 12.82 0 0 0 0 308.83v22.34A12.82 12.82 0 0 0 12.83 344zm0-256h262.34A12.82 12.82 0 0 0 288 75.17V52.83A12.82 12.82 0 0 0 275.17 40H12.83A12.82 12.82 0 0 0 0 52.83v22.34A12.82 12.82 0 0 0 12.83 88zM432 168H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zm0 256H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16z"/></svg>'},{name:"Centered",icon:'<svg  width="15" height="15" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M108.1 88h231.81A12.09 12.09 0 0 0 352 75.9V52.09A12.09 12.09 0 0 0 339.91 40H108.1A12.09 12.09 0 0 0 96 52.09V75.9A12.1 12.1 0 0 0 108.1 88zM432 424H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zm0-256H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zm-92.09 176A12.09 12.09 0 0 0 352 331.9v-23.81A12.09 12.09 0 0 0 339.91 296H108.1A12.09 12.09 0 0 0 96 308.09v23.81a12.1 12.1 0 0 0 12.1 12.1z"/></svg>'},{name:"RightAligned",icon:'<svg  width="15" height="15" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M16 216h416a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16zm416 208H16a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16zm3.17-384H172.83A12.82 12.82 0 0 0 160 52.83v22.34A12.82 12.82 0 0 0 172.83 88h262.34A12.82 12.82 0 0 0 448 75.17V52.83A12.82 12.82 0 0 0 435.17 40zm0 256H172.83A12.82 12.82 0 0 0 160 308.83v22.34A12.82 12.82 0 0 0 172.83 344h262.34A12.82 12.82 0 0 0 448 331.17v-22.34A12.82 12.82 0 0 0 435.17 296z"/></svg>'}]}var e,n,a;return e=t,n=[{key:"render",value:function(){var t=this._make("div",[this.CSS.baseClass,this.CSS.wrapper]),e=this._make("div",this.CSS.loading),n=this._make("div",this.CSS.holder),a=this._make("iframe");return t.appendChild(e),n.appendChild(a),t.classList.remove(this.CSS.loading),t.appendChild(n),this.data.frame&&(a.parentElement.innerHTML=this.data.frame),e.remove(),a.onerror=function(t){},this.nodes.holder=n,this.nodes.wrapper=t,this.nodes.iframe=a,this.data.alignment&&(console.log(this.data.alignment),this._acceptTuneView()),t}},{key:"save",value:function(t){var e=t.querySelector("iframe");return e?(Object.assign(this.data,{frame:e.parentElement.innerHTML}),this._data.frame=e.parentElement.innerHTML,this._data):this.data}},{key:"onPaste",value:function(t){if("pattern"===t.type){var e=t.detail.data,n=e.indexOf(">",0);e.match(/sandbox/)||(e=e.slice(0,n)+' sandbox="allow-scripts allow-same-origin"'+e.slice(n)),this.data={frame:e},this._data=Object.assign({},this.data,{frame:e})}}},{key:"data",get:function(){return this._data},set:function(t){this._data=Object.assign({},this.data,t),this.nodes.iframe&&(this.nodes.iframe.parentElement.innerHTML=this.data.frame)}},{key:"renderSettings",value:function(){var t=this,e=document.createElement("div");return this.settings.forEach((function(n){var a=document.createElement("div");a.setAttribute("id",n.name),a.classList.add(t.CSS.settingsButton),a.innerHTML=n.icon,a.addEventListener("click",(function(){t._toggleTune(n.name)})),t.data.alignment==n.name&&a.classList.add(t.CSS.settingsButtonActive),e.appendChild(a)})),e}},{key:"_make",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=document.createElement(t);return Array.isArray(n)?(e=a.classList).add.apply(e,v(n)):n&&a.classList.add(n),a}},{key:"_toggleTune",value:function(t){var e=this;this.data[t]=!this.data[t],this.data.alignment=t,this.settings.forEach((function(n){n.name==t?document.getElementById(n.name).classList.add(e.CSS.settingsButtonActive):document.getElementById(n.name).classList.remove(e.CSS.settingsButtonActive)})),this._acceptTuneView()}},{key:"_acceptTuneView",value:function(){"LeftAligned"==this.data.alignment?this.nodes.holder.classList.add("iframe-justify-start"):this.nodes.holder.classList.remove("iframe-justify-start"),"RightAligned"==this.data.alignment?this.nodes.holder.classList.add("iframe-justify-end"):this.nodes.holder.classList.remove("iframe-justify-end"),"Centered"==this.data.alignment?this.nodes.holder.classList.add("iframe-justify-center"):this.nodes.holder.classList.remove("iframe-justify-center")}}],a=[{key:"sanitize",get:function(){return{iframe:!0}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{patterns:{iframe:/(?:<iframe[^>]*)(?:(?:\/>)|(?:>.*?<\/iframe>))/}}}}],n&&g(e.prototype,n),a&&g(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()}(),a.default}()}));